<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
	<link rel="shortcut icon" href="#">
	<!-- jQuery -->
	<script th:src="@{/js/jquery/jquery-3.6.0.min.js}" type="text/javascript"></script>
	
	<!-- Bootstrap 4.0.0 -->
	<link th:href="@{/css/bootstrap-4.6.1/bootstrap.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/css/bootstrap-4.6.1/login.css}" rel="stylesheet" type="text/css" />
	
	<!-- Common -->
	<script th:src="@{/js/common/hjho-string-utils.js}" type="text/javascript"></script>
	<script th:src="@{/js/common/hjho-ajax-utils.js}" type="text/javascript"></script>
	<script th:src="@{/js/common/hjho-date-utils.js}" type="text/javascript"></script>
	<script th:src="@{/js/common/hjho-event-utils.js}" type="text/javascript"></script>
	
<title>프로젝트 연습(로그인)</title>
</head>
<body class="text-center">
	<form class="form-signin" id="loginFormData">
    	<img class="mb-4" th:src="@{/images/bootstrap-stack.png}" alt="" width="72" height="72">
      	<h1 class="h3 mb-3 font-weight-normal">Practice Login</h1>
      	<div class="row">
	      	
	      	<label for="userId">Identification</label>
  			<input type="text" id="userId" name="userId" class="form-control">
  			
  			<label for="userPw">Password</label>
  			<input type="password" id="userPw" name="userPw" class="form-control">
  			
		</div>
	    <button class="btn btn-lg btn-primary btn-block" onclick="loginProc()">로그인</button>
	    <p class="mt-5 mb-3 text-muted">&copy; 2021-ING</p>
    </form>
</body>
<script th:inline="javascript">
	$(document).ready(function() {
		
		fnLoginDtlInit();
		
		$('#loginFormData').submit(function() {
		    return false; // return false to cancel form action
		});
		
	});
	function fnLoginDtlInit() {
		$('#loginFormData').find('#userId').val("");
		$('#loginFormData').find('#userPw').val("");
	}
	
	function loginProc() {
		
		var obj = {
				url : "/login/proc",
				method : "POST",
				param : AjaxUtils.getParam(
					"#loginFormData",
					function() {},
					function(param) {return param;}
				),
				funcOk : function(data) {
					// alert(data.message);
					location.href = "/main/page";
				},
				funcErr : function(data) {
					
				}
		}
		// console.log(obj.param);
		AjaxUtils.run(obj);
	}
</script>
</html>

